<!DOCTYPE html>
<html lang="en">
  <title>Progress Component</title>
  <head>
    <link
      rel="stylesheet"
      href="../../../node_modules/bootstrap/dist/css/bootstrap.css"
    />
    <!-- <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    /> -->
    <link
      rel="stylesheet"
      href="../../../node_modules/lit-fontawesome/css/font.css"
    />
    <link rel="stylesheet" href="../../styles/components.css" />

    <style>
      .content-box {
        flex: 1 1 auto;
      }
      .flex {
        display: flex;
      }
    </style>
  </head>
  <body>
    <div class="title">Progress Component</div>

    <div class="demo-wrapper">
      <div class="main">
        <section>
          <section class="display-box" id="db-1">
            <section class="display-box-demo">
              <progress-component value="50"></progress-component>
            </section>
            <section class="display-box-meta markdown">
              <div class="display-box-title">Basic Usage</div>
              <div class="display-box-description">
                Basic Linear Progress bar, set the maximum value with the max
                prop (default is 100), and the current value via the value prop
                (default 0).
              </div>
              <div class=""></div>
            </section>
          </section>

          <section class="display-box" id="db-1">
            <section class="display-box-demo">
              <div style="margin-bottom: 10px; font-size: 12px">
                Show Value label<br />
                <progress-component value="50" showValue></progress-component>
              </div>
              <div style="margin-bottom: 10px; font-size: 12px">
                Show Progress label<br />
                <progress-component
                  value="70"
                  showProgress
                ></progress-component>
              </div>

              <div style="margin-bottom: 10px; font-size: 12px">
                Show precision for the number of digits after a decimal<br />
                <progress-component
                  value="34.3456"
                  precision="4"
                  showProgress
                ></progress-component>
              </div>

              <div style="margin-bottom: 10px; font-size: 12px">
                Add text to the component's default slot for custom labels<br />
                <progress-component value="85"
                  >Ongoing progress</progress-component
                >
              </div>

              <div style="margin-bottom: 10px; font-size: 12px">
                Add text with value or progress and align it left or right.<br />
                <progress-component showValue progressAlign="left" value="65"
                  >Ongoing progress:
                </progress-component>
              </div>
            </section>
            <section class="display-box-meta markdown">
              <div class="display-box-title">Basic Usage</div>
              <div class="display-box-description">
                Add labels to your progress bars by either enabling showProgress
                (percentage of max) or showValue for the current absolute value.
                You may also set the precision (number of digits after the
                decimal) via the 'precision' prop (default is 0 digits after the
                decimal). Algin the text to the left or right of the value or
                progress with progressAlign.
              </div>
              <div class=""></div>
            </section>
          </section>

          <section class="section">
            <section class="display-box" id="db-1">
              <section class="display-box-demo">
               <progress-component value="80" striped></progress-component>
                <br />
                <progress-component
                  value="80"
                  id="progressBarComp"
                  showProgress
                  animated
                  variant="danger"
                ></progress-component>

                <!-- Circular progress bar -->
                <progress-component
                  value="66.666"
                  circular
                  variant="warning"
                  showProgress
                  width="5"
                  size="150"
                >
                </progress-component>

                <progress-component
                  value="35"
                  circular
                  variant="warning"
                  size="50"
                  width="10"
                >
                </progress-component>

                <progress-component
                  showProgress
                  id="progressComp"
                  circular
                  rotate="360"
                  size="100"
                  width="5"
                >
                </progress-component>

                <progress-component circular spin width="5" size="100">
                </progress-component>
              </section>
              <section class="display-box-meta markdown">
                <div class="display-box-title">Basic Usage</div>
                <div class="display-box-description">Text</div>
                <div class=""></div>
              </section>
            </section>
          </section>
        </section>

        <section>
          <section class="section">
            <section class="display-box" id="db-1">
              <section class="display-box-demo">
                <div style="margin-bottom: 10px; font-size: 12px; width: 50%;" >
                  Inline style width<br />
                  <progress-component value="50"></progress-component>
                </div>
                 
                <div style="margin-bottom: 10px; font-size: 12px;" class="w-75">
                  Wrapped in a div with Bootstrap width class<br />
                  <progress-component value="40"></progress-component>
                </div>

                <div style="margin-bottom: 10px; font-size: 12px;" class="w-75">
                  Give a new height with the 'height' prop <br />
                  <progress-component value="60" height="10"></progress-component>
                </div>
              </section>
              <section class="display-box-meta markdown">
                <div class="display-box-title">Basic Usage</div>
                <div class="display-box-description">
                  The progress-component will always expand to the maximum width
                  of its parent container. To change the width, wrap it in a
                  standard Bootstrap column or the standard
                  Bootstrap width classes or create your own. To change the height, use the 'height' prop (default is 20).
                </div>
                <div class=""></div>
              </section>
            </section>

            <section class="display-box" id="db-1">
              <section class="display-box-demo">
                <progress-component> </progress-component>
              </section>
              <section class="display-box-meta markdown">
                <div class="display-box-title">Basic Usage</div>
                <div class="display-box-description">Text</div>
                <div class=""></div>
              </section>
            </section>

            <section class="display-box" id="db-1">
              <section class="display-box-demo">
                <progress-component multi id="multi">
                  <div slot="bar-0">Content for Bar 0</div>
                  <div slot="bar-1">Content for Bar 1</div>
                  <div slot="bar-2">Content for Bar 2</div>
                </progress-component>
              </section>
              <section class="display-box-meta markdown">
                <div class="display-box-title">Basic Usage</div>
                <div class="display-box-description">Text</div>
                <div class=""></div>
              </section>
            </section>
          </section>
        </section>
      </div>
    </div>

    <!-- Props -->

    <!-- <div class="title">Props</div>

    <p>
      The modal launch button uses these props from the button component:
      'block', 'classnames', 'disabled', 'id', 'outlined', 'ripple' and
      'styles'. See the documentation
      <a href="../button/index.html" target="_blank">here</a>.
    </p> -->

    <!-- <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Property</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>btnText</td>
            <td>String</td>
            <td></td>
            <td>
              The text displayed on the button that launches the modal. It is
              also used to set the aria-label attribute on the button.
            </td>
          </tr>
          <tr>
            <td>modalId</td>
            <td>String</td>
            <td></td>
            <td>
              The id of the modal. This is used to uniquely identify the modal
              component. It is also used to set the aria-labelledby attribute on
              the modal and the aria-controls attribute on the button that
              launches the modal as well as the data-target attribute on the
              button that closes the modal.
            </td>
          </tr>
          <tr>
            <td>modalLg</td>
            <td>Boolean</td>
            <td>false</td>
            <td>
              Set to true to make the modal large. This will increase the width
              of the modal to 90% of the viewport width.
            </td>
          </tr>
          <tr>
            <td>modalSm</td>
            <td>Boolean</td>
            <td>false</td>
            <td>
              Set to true to make the modal small. This will decrease the width
              of the modal to 50% of the viewport width.
            </td>
          </tr>
          <tr>
            <td>modalTitle</td>
            <td>String</td>
            <td></td>
            <td>
              The title of the modal. This is displayed at the top of the modal.
            </td>
          </tr>
          <tr>
            <td>scrollableBody</td>
            <td>Boolean</td>
            <td>flase</td>
            <td>
              Set to true to make the body of the modal scrollable. This is
              useful when the content of the modal is too long to fit in the
              viewport.
            </td>
          </tr>
          <tr>
            <td>scrollLongContent</td>
            <td>Boolean</td>
            <td>false</td>
            <td>
              Set to true to make the entire modal scrollable. This is useful
              when the content of the modal is too long to fit in the viewport.
            </td>
          </tr>
          <tr>
            <td>verticallyCentered</td>
            <td>Boolean</td>
            <td>false</td>
            <td>Set to true to vertically center the modal.</td>
          </tr>
        </tbody>
      </table>
    </div> -->

    <!-- Slots -->
    <!-- <div style="margin-top: 50px">
      <div class="title">Slots</div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Slot</th>
              <th>Description</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>footer</td>
              <td>
                Use this slot to add additional buttons/pl-button component or content to the footer
                of the modal. This is useful for adding buttons that perform
                actions like saving or deleting data.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div> -->

    <!-- Instructions -->
    <!-- <div style="margin-top: 50px">
      <div class="title">PlButton Custom '_handleClick'</div>
      <p>
        The _handleClick() method in the PlButton component is a custom event
        dispatcher that triggers the custom-click event when the button is
        clicked. To use this functionality in an instance of your PlButton
        component, a user would listen for the custom-click event.
      </p>
      <p>
        Here's an example of how a user might implement this event listener in
        the Modal component:
      </p>
      <pre>
        <code>
         // Dispatching the custom-click event
          const modal = document.getElementById("modal2");

          // Creating an instance of the PlButton component
          const saveButton = document.getElementById("saveButton");

          // Listening for the custom-click event
          // Assuming the modal component has a method closeModal() exposed 
          saveButton.addEventListener("click", () => {
            console.log("Save button clicked");
            // Code to save data goes here or for editing data or deleting data etc.
            // Close the modal after saving data
            modal.closeModal(); // Call closeModal method on the modal-component
          });
        </code>
      </pre>
      <p>
        By adding an event listener to the pl-button element, the user can
        respond to the custom-click event triggered by your component's
        _handleClick() method. This allows them to execute specific actions or
        code when the button is clicked.
      </p>

      <div class="title">Using Component in other JavaScript Frameworks</div>

      <p>
        Integrating a Lit Element component with other JavaScript frameworks
        like Vue, React, and Angular involves creating a wrapper component in
        each framework to encapsulate and use the Lit Element component. Here
        are examples for each framework:
      </p>

      <h5>Vue.js</h5>
      <p>
        To use the Lit Element component in Vue, you can use the
        'vue-custom-element' library to register the Lit Element as a custom
        element:
      </p>
      <p>
        This example assumes you have the Modal component globally
        registered and available in your project.
      </p>
      <pre>
        <code>
          // main.js
          import Vue from 'vue';
          import App from './App.vue';
          
          // Import your custom element here
          import 'path/to/modal-component.js';
          
          new Vue({
            el: '#app',
            render: h => h(App)
          });
          
        </code>
      </pre>
      <p>
        Next, within your Vue component (App.vue in this example), you can use
        the modal element directly in the template. You can bind
        properties and listen to events on it just like you would with a native
        HTML element or Vue component.
      </p>
      <pre>
          <code>
            // javascript
            // Tell Vue to ignore the custom element
            Vue.config.ignoredElements = ['modal-component'];

            &#60;template&#62;
                &#60;div&#62;
                    &#60;modal-component open @close-modal="handleClose"&#62;
                        &#60;!-- Modal content here --&#62;
                    &#60;/modal-component&#62;
                &#60;/div&#62;
            &#60;/template&#62;
              
            &#60;script&#62;
              export default {
                methods: {
                  handleClose() {
                    console.log('Modal closed');
                  }
                }
              };
            &#60;/script&#62;
          </code>
        </pre>

      <h5>React</h5>
      <p>
        For React, you'll use refs to interact with the DOM element for
        properties and events not directly supported by React's synthetic event
        system:
      </p>

      <pre>
          <code>
            // jsx
            import React from 'react';

            class App extends React.Component {
              componentDidMount() {
                document.addEventListener('close-modal', this.handleClose);
              }
            
              componentWillUnmount() {
                document.removeEventListener('close-modal', this.handleClose);
              }
            
              handleClose = () => {
                console.log('Modal closed');
              }
            
              render() {
                return (
                    &#60;modal-component open&#62;
                    {/* Your modal content here */}
                    &#60;/modal-component&#62;
                );
              }
            }
            
            export default App;            
          </code>
        </pre>

      <h5>Angular</h5>
      <p>
        Angular can also work directly with Web Components. Use Angular's event
        binding to listen for custom events and property binding for attributes.
        First, ensure your custom element is declared to Angular's custom
        elements schema in your module:
      </p>
      <pre>
          <code>
            // Add the CUSTOM_ELEMENTS_SCHEMA to your Angular module to avoid template parse errors.
            
            import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
            import { BrowserModule } from '@angular/platform-browser';
            import { AppComponent } from './app.component';

            @NgModule({
                declarations: [
                    AppComponent
                ],
                imports: [
                    BrowserModule
                ],
                providers: [],
                bootstrap: [AppComponent],
                schemas: [CUSTOM_ELEMENTS_SCHEMA] // Add this line
            })
            export class AppModule { }
   
          </code>
        </pre>

      <p>Then, use it in your Angular component template:</p>
      <pre>
          <code>
            // html 
            
            &#60;!-- In your component template --&#62;
            &#60;modal-component [attr.open]="isOpen" (close-modal)="handleClose()"&#62;
                &#60;!-- Your modal content here --&#62;
            &#60;/modal-component&#62;
          </code>
        </pre>

      <p>And in your component class:</p>

      <pre>
          <code>
            // typescript

            // In your component TypeScript
            import { Component } from '@angular/core';
            
            @Component({
              selector: 'app-root',
              templateUrl: './app.component.html'
            })
            export class AppComponent {
              isOpen = true;
            
              handleClose() {
                console.log('Modal closed');
                this.isOpen = false;
              }
            }
            
          </code>
        </pre>

      <p>
        Remember to adjust the paths and imports based on your project
        structure. These examples demonstrate how to create wrapper components
        for each framework to use your Lit Element 'Modal' component.
      </p>

      <p>
        The interoperability is possible because Web Components, once defined
        and registered as custom elements, act like native HTML elements that
        these frameworks can understand and interact with.
      </p>

      <p>Notes:</p>
      <ul>
        <li>
          Event Handling: Make sure to handle events appropriately. React, for
          example, may require you to attach event listeners directly to the DOM
          elements for custom events, as shown above.
        </li>
        <li>
          Properties and Attributes: If your Web Component uses properties that
          are objects or arrays, passing them from frameworks might require
          setting them via JavaScript rather than as HTML attributes.
        </li>
      </ul>
    </div> -->

    <script src="./progress.js" type="module"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const multiBars = document.getElementById("multi");
        if (multiBars) {
          multiBars.bars = [
            {
              value: 25,
              variant: "warning",
              striped: true,
              animated: true,
              showProgress: true,
              progressAlign: "right",
            },
            {
              value: 40,
              variant: "danger",
              striped: true,
              showValue: true,
              progressAlign: "left",
            },
            { value: 30, variant: "success", precision: 2, showValue: true },
            // Add more items as needed
          ];
        }

        const progressBarComp = document.getElementById("progressBarComp");
        let value = 0;

        let interval1 = setInterval(() => {
          if (value >= 100) {
            value = 0; // Reset the value
          } else {
            value += 10; // Increment the value
          }
          progressBarComp.setAttribute("value", value); // Update the progress component
        }, 1000);

        // Clean up the interval when the window is unloaded or when you want to stop the interval
        window.addEventListener("beforeunload", () => {
          clearInterval(interval1);
        });

        const progressComp = document.getElementById("progressComp");

        let interval = setInterval(() => {
          if (value >= 100) {
            value = 0; // Reset the value
          } else {
            value += 10; // Increment the value
          }
          progressComp.setAttribute("value", value); // Update the progress component
        }, 1000);

        // Clean up the interval when the window is unloaded or when you want to stop the interval
        window.addEventListener("beforeunload", () => {
          clearInterval(interval);
        });
      });
    </script>

    <script src="../../../node_modules/bootstrap/dist/js/bootstrap.js"></script>
  </body>
</html>
